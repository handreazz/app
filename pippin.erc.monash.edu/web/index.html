<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>Welcome to pippin</title>
        <link href="assets/css/bootstrap.css" rel="stylesheet" />
        <link href="assets/css/font-awesome.min.css" rel="stylesheet" />
        <link href="assets/css/font-awesome.min.css" rel="stylesheet" />
        <link href="assets/css/flexslider.css" rel="stylesheet" />
        <link href="assets/plugins/datatables/css/jquery.datatables.min.css" rel="stylesheet" />
        <link href="assets/css/style.css" rel="stylesheet" />
    </head>
    <body >

        <!-- data-scroll-reveal="enter from the bottom after 0.4s"-->
        <div class="navbar navbar-inverse navbar-fixed-top " id="menu">
            <div class="container">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="#"><img class="logo-custom" src="assets/img/logo180-50.png" alt=""  /></a>
                </div>
                <div class="navbar-collapse collapse move-me">
                    <ul class="nav navbar-nav navbar-right">
                        <li ><a href="#home">Home</a></li>
                        <li><a href="#server-sec"> Server</a></li>
                        <li><a href="#help-sec">Help</a></li>
                        <li><a href="#job-list-sec">Job List</a></li>
                        <li><a href="#contact-sec">Contact</a></li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="home-sec" id="home" >
            <div class="overlay">
                <div class="container">
                    <div class="row text-center " >

                        <div class="col-lg-12  col-md-12 col-sm-12">

                            <div class="flexslider set-flexi" id="main-section" >
                                <ul class="slides move-me">
                                    <li>
                                        <h1>PresynaptIc Postsynaptic PredIctioN - Web Server</h1>

                                        <h3>An accurate deep learning-based tool for the prediction of all major types of lysine post-translational modification sites in mammalian proteomes.</h3>
                                        <br />
                                        <a  href="#server-sec" class="btn btn-info btn-lg" >
                                            Start using it
                                        </a>
                                        <a  href="#help-sec" class="btn btn-success btn-lg" >
                                            How to use it
                                        </a>
                                    </li>

                                    <li>
                                        <h1>About us</h1>
                                        <h3>A small bioinformatics group</h3>
                                        <br />
                                        <a  href="#contact-sec" class="btn btn-primary btn-lg" >
                                            Get contact
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>


        <div  class="tag-line" >
            <div class="container">
                <div class="row  text-center" >
                    <div class="col-lg-12  col-md-12 col-sm-12">
                        <h2>
                            <i class="fa fa-home"></i> Welcome to <a href="#">pippin.erc.monash.edu</a>
                        </h2>
                    </div>
                </div>
            </div>

        </div>


        <div class="container set-pad" >
            <div class="row text-center">
                <div class="col-lg-8 col-lg-offset-2 col-md-8 col-sm-8 col-md-offset-2 col-sm-offset-2">
                    <h1 class="header-line">What is it ?</h1>
                    <p>
                        The protein post-translational modification in lysine is critical for regulating their function. Although many tools have been developed to predict post-translational modification sites (PTMs) in lysine, most of these tools are limited in identifying one type of the lysine PTM. Here, we developed MUscADEL, which is an accurate deep learning-based tool for the prediction of all major types of lysine PTMs in mammalian proteomes.
                    </p>
                </div>

            </div>


            <div class="row" >
                <div class="col-lg-4  col-md-4 col-sm-4">
                    <div class="about-div">
                        <center><i class="fa fa-link fa-4x icon-round-border" ></i></center>
                        <h3 >The available lysine model</h3>
                        <hr />
                        <hr />
                        <p >
                            The available lysine model in MUscADEL <strong>include</strong>:
                            <span class="label label-primary">Acetylation</span>
                            <span class="label label-danger">Methylation</span>
                            <span class="label label-info">Glutarylation</span>
                            <span class="label label-success">Sumoylation</span>
                            <span class="label label-warning">Succinylation</span>
                            <span class="label label-default">Ubiquitination</span>
                        </p>
                    </div>
                </div>
                <div class="col-lg-4  col-md-4 col-sm-4">
                    <div class="about-div">
                        <center><i class="fa fa-file-text-o fa-4x icon-round-border" ></i></center>
                        <h3 >How to provide input files</h3>
                        <hr />
                        <hr />
                        <p >
                            You can provide the input file by any of the following ways:
                            <ul>
                                <li><a href="#input-upload-form"><i class="fa fa-upload"></i> Upload a Fasta file</a></li>
                                <li><a href="#input-fill-form"><i class="fa fa-edit"></i> Fill in the text area</a></li>
                            </ul>
                        </p>
                    </div>
                </div>
                <div class="col-lg-4  col-md-4 col-sm-4">
                    <div class="about-div">
                        <center><i class="fa fa-calendar fa-4x icon-round-border" ></i></center>
                        <h3>Function/feature</h3>
                        <hr />
                        <hr />
                        <p >
                            This passage is a description of the characteristics of the system.
                        </p>
                        <a href="#" class="btn btn-info btn-set"  >Read Me</a>
                    </div>
                </div>


            </div>
        </div>
        <div id="server-sec" >
            <div class="container set-pad">
                <div class="row text-center">
                    <div class="col-lg-8 col-lg-offset-2 col-md-8 col-sm-8 col-md-offset-2 col-sm-offset-2">
                        <h1 class="header-line">Use Server</h1>
                        <p>
                            If you find the form below difficult to understand, you can refer to the <a href="#help-sec">help documentation</a> we provide.
                            <br />
                            You can <a href="#contact-sec">contact us</a> if you have any questions.
                        </p>
                    </div>
                </div>

                <div class="row set-row-pad">
                    <form target="_blank" id="input-fill-form" class="col-lg-8 col-lg-offset-2 col-md-8 col-md-offset-2 col-sm-8 col-sm-offset-2" method="POST" action="job/fill">
                        <div class="form-group">
                            <label>Paste protein sequences in fasta format (<a id="enterExample" href="javascript:void(0);">example</a>): </label>
                            <textarea id="sequenceText" name="sequence" required="required" class="form-control" style="min-height: 150px;" placeholder="Paste protein sequences in fasta format"></textarea>
                        </div>
                        <div class="form-group">
                            <button id="input-fill-submit" type="submit" class="btn btn-info btn-block btn-lg">Submit Job</button>
                        </div>
                        <hr />
                    </form>

                    <form target="_blank" id="input-upload-form" class="col-lg-8 col-lg-offset-2 col-md-8 col-md-offset-2 col-sm-8 col-sm-offset-2" enctype="multipart/form-data" action="job/upload" method="post" class="form-horizontal">
                        <div class="form-group">
                            <label>Or upload a fasta file: </label>
                            <div class="input-group">
                                <input type="text" class="form-control" onkeydown="return false;" onpaste="return false" placeholder="Select input file..." id="textFileName" />
                                <label class="input-group-btn">
                                    <span class="btn btn-primary" >
                                        <i class="fa fa-folder-open"></i> Browse...
                                        <input type="file" name="file" style="display:none;" onchange="$('#textFileName').val(this.value)" />
                                    </span>
                                </label>
                            </div>
                        </div>

                        <div class="form-group">
                            <button class="btn btn-success btn-block btn-lg" type="submit">Submit Job</button>
                        </div>
                    </form>

                </div>
            </div>
        </div>



        <div id="help-sec" class="container set-pad">
            <div class="row text-center">
                <div class="col-lg-8 col-lg-offset-2 col-md-8 col-sm-8 col-md-offset-2 col-sm-offset-2">
                    <h1 class="header-line">Help</h1>
                    <p>
                        You can use our software through this help document.
                    </p>
                </div>
            </div>

            <div class="row set-row-pad" >
                <div class="col-lg-12 col-md-12 col-sm-12">
                    <div class="panel-group" id="accordion">
                        <div class="panel panel-default">
                            <div class="panel-heading" >
                                <h4 class="panel-title">
                                    <a data-toggle="collapse" data-parent="#accordion" href="#collapse1" class="collapsed">
                                        Step 1. Paste protein sequences or upload protein sequence file.
                                    </a>
                                </h4>
                            </div>
                            <div id="collapse1" class="panel-collapse collapse" style="height: 0px;">
                                <div class="panel-body">
                                    <p>
                                        <img src="assets/img/help/step1.png" alt="step1.png" width="100%" />
                                        <center><strong>step1.png</strong></center><hr />
                                        <blockquote>
                                            First, paste the protein sequences in <code>TEXTAREA</code> or upload the file, which include the protein sequence. The protein sequences must be in 'FASTA' format. MUscADEL Web server was designed to accept at most 100 sequence at once.
                                        </blockquote>
                                    </p>
                                </div>
                            </div>
                        </div>
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                <h4 class="panel-title">
                                    <a data-toggle="collapse" data-parent="#accordion" href="#collapse2" class="collapsed">
                                        Step 2. Select the PTM model(s).
                                    </a>
                                </h4>
                            </div>
                            <div id="collapse2" class="panel-collapse collapse" style="height: 0px;">
                                <div class="panel-body">
                                    <p>
                                        <img src="assets/img/help/step2.png" alt="step2.png" width="100%" />
                                        <center><strong>setp2.png</strong></center><hr />
                                        <blockquote>
                                            Selcect the PTM model(s), at least one model shoudld be chosen.
                                        </blockquote>
                                    </p>
                                </div>
                            </div>
                        </div>
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                <h4 class="panel-title">
                                    <a data-toggle="collapse" data-parent="#accordion" href="#collapse3" class="collapsed">
                                        Step 3. Select threshod.
                                    </a>
                                </h4>
                            </div>
                            <div id="collapse3" class="panel-collapse collapse"  style="height: 0px;">
                                <div class="panel-body">
                                    <p>
                                        <img src="assets/img/help/step3.png" alt="step3.png" width="100%" />
                                        <center><strong>step3.png</strong></center><hr />
                                        <blockquote>
                                            Five cutoffs are available (i.e. ALL, LOW (Specificity = 70%), MEDIUM (Specificity = 90%), HIGH (Specificity = 95%) and VERY HIGH (Specificity = 98%).
                                        </blockquote>
                                    </p>

                                </div>
                            </div>
                        </div>

                        <div class="panel panel-default">
                            <div class="panel-heading">
                                <h4 class="panel-title">
                                    <a data-toggle="collapse" data-parent="#accordion" href="#collapse4" class="collapsed">
                                        Step 4. Result.
                                    </a>
                                </h4>
                            </div>
                            <div id="collapse4" class="panel-collapse collapse"  style="height: 0px;">
                                <div class="panel-body">
                                    <p>
                                        <img src="assets/img/help/step4_1.png" alt="step4_1.png" width="100%" />
                                        <center><strong>step4_1.png</strong></center><hr />

                                        <img src="assets/img/help/step4_2.png" alt="step4_2.png" width="100%" />
                                        <center><strong>step4_2.png</strong></center><hr />
                                        <blockquote>
                                            After a few seconds, the result will be generated and displayed in the result table. It will take 40 seconds to predict a hundred of protein sequences. The prediction result can be downloaded by click the "Download" button.
                                        </blockquote>

                                        <img src="assets/img/help/step4_3.png" alt="step4_3.png" width="100%" />
                                        <center><strong>step4_3.png</strong></center><hr />

                                        <img src="assets/img/help/step4_4.png" alt="step4_4.png" width="100%" />
                                        <center><strong>step4_4.png</strong></center><hr />

                                        <img src="assets/img/help/step4_5.png" alt="step4_5.png" width="100%" />
                                        <center><strong>step4_5.png</strong></center><hr />
                                        <blockquote>
                                            MUscADEL also offers a way to graphically show the prediction result and result statistics.
                                        </blockquote>
                                    </p>
                                </div>
                            </div>
                        </div>

                        <div class="panel panel-default">
                            <div class="panel-heading">
                                <h4 class="panel-title">
                                    <a data-toggle="collapse" data-parent="#accordion" href="#collapse5" class="collapsed">
                                        Step 5. Query your result.
                                    </a>
                                </h4>
                            </div>
                            <div id="collapse5" class="panel-collapse collapse"  style="height: 0px;">
                                <div class="panel-body">

                                    <img src="assets/img/help/step5.png" alt="step5.png" width="100%" />
                                    <center><strong>step5.png</strong></center><hr />
                                    <blockquote>
                                        MUscADEL also offers a way to graphically show the prediction result and result statistics.
                                    </blockquote>
                                </div>
                            </div>
                        </div>

                    </div>
                    <div class="alert alert-info">
                        <a href="assets/help.pdf" target="_blank"><strong> Download PDF</strong></a>
                    </div>
                </div>
            </div>
        </div>


        <div id="job-list-sec" >
            <div class="container set-pad">
                <div class="row text-center">
                    <div class="col-lg-8 col-lg-offset-2 col-md-8 col-sm-8 col-md-offset-2 col-sm-offset-2">
                        <h1 class="header-line">Job List</h1>
                        <blockquote>
                            Here is a list of jobs submitted by all users.
                        </blockquote>
                        <table id="job-list-table"></table>
                        <div class="col-lg-12  col-md-12 col-sm-12">
                            <div class="about-div" id="job-details-div"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="contact-sec"   >
            <div class="overlay">
                <div class="container set-pad">
                    <div class="row text-center">
                        <div class="col-lg-8 col-lg-offset-2 col-md-8 col-sm-8 col-md-offset-2 col-sm-offset-2">
                            <h1 class="header-line" >Contact</h1>
                            <p>
                                You can contact us by filling out the form below. We will not disclose your information.
                            </p>
                        </div>

                    </div>

                    <div class="row set-row-pad">
                        <div class="col-lg-8 col-lg-offset-2 col-md-8 col-md-offset-2 col-sm-8 col-sm-offset-2">
                            <form action="message/submit" method="POST">
                                <div class="form-group">
                                    <input name="name" type="text" class="form-control "  required="required" placeholder="Your Name" />
                                </div>
                                <div class="form-group">
                                    <input name="email" type="email" class="form-control " required="required"  placeholder="Your Email" />
                                </div>
                                <div class="form-group">
                                    <textarea name="message" required="required" class="form-control" style="min-height: 150px;" placeholder="Message"></textarea>
                                </div>
                                <div class="form-group">
                                    <button type="submit" class="btn btn-info btn-block btn-lg">SUBMIT REQUEST</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="container">
            <div class="row set-row-pad" >
                <div class="col-lg-4 col-md-4 col-sm-4 col-lg-offset-1 col-md-offset-1 col-sm-offset-1 " >
                    <h2 ><strong>Our Location </strong></h2>
                    <hr />

                    <div>
                        <p>If you have any comments or query about MUscADEL, please contact:</p>
                        <h4><strong>Jiangning Song: </strong><a href="mailto:Jiangning.Song@monash.edu">Jiangning.Song@monash.edu</a></h4>
                        <h4><strong>Zhen Chen: </strong><a href="mailto:chenzhen-win2009@163.com">chenzhen-win2009@163.com</a></h4>
                    </div>
                </div>
                <div class="col-lg-4 col-md-4 col-sm-4   col-lg-offset-1 col-md-offset-1 col-sm-offset-1">
                    <h2 ><strong>Social Conectivity </strong></h2>
                    <hr />
                    <div >
                        <a href="#"> <img src="assets/img/Social/facebook.png" alt="" /> </a>
                        <a href="#"> <img src="assets/img/Social/google-plus.png" alt="" /></a>
                        <a href="#"> <img src="assets/img/Social/twitter.png" alt="" /></a>
                    </div>
                </div>


            </div>
        </div>


        <div id="footer">
            Copyright &copy; 2019. All rights reserved.
        </div>

        <script src="assets/js/jquery-1.10.2.js"></script>
        <script src="assets/js/bootstrap.js"></script>
        <script src="assets/js/jquery.flexslider.js"></script>
        <script src="assets/js/scrollReveal.js"></script>
        <script src="assets/js/jquery.easing.min.js"></script>
        <script src="assets/js/custom.js"></script>

        <script src="assets/plugins/datatables/js/jquery.datatables.min.js"></script>

        <script>

                                            $(function() {

                                                $('#enterExample').click(function() {
                                                    var text =
                                                            ">Q8R4H7\n" +
                                                            "MATAWVATALRSAAAARRLRSPGGPGGSRRLSGSARRRGAKSASPGRRLSTARAHAEDAE\n" +
                                                            "GAKGRVQSPAVEEPSWTPLPTPLESPAPPAGRSLVQRDIQAFLNQCGASPGEARHWLTQF\n" +
                                                            "QTCYHSVDKPFAVMEVDEEVIRCPQAVSRLAFALAFLQRMDMKPLVVLGLPTPTAPSGCL\n" +
                                                            "SFWEAKAQLAQSCKVLVDELRHNAATAVPFFGGGSVLSAAEPAPHASYGGIVAVETDLLQ\n" +
                                                            "WCLESNSIPILCPIGETAARRSVLLDSLEVTASLAKALQPTKIIFLNNSGGLRNNSQKIL\n" +
                                                            "SNVNLPADLDLVTNAEWLSIKERQQIRLIVDVLSRLPHYSSAVITAASTLLTELFSNKGC\n" +
                                                            "GTLFKNAERMLRVRNLDSLDQGRLVNLVNASFGKKLREDYLESLRPRLHSIYVSEGYNAA\n" +
                                                            "AILTVEPVLGGTPYLDKFVVSSSRQGQGSGQMLWECLRRDLQTLFWRSRVTNPINPWYFK\n" +
                                                            "HSDGSFSNKQWIFFWFGLADIRDSYELVNHAKGLPDSFCKPASDPGS";
                                                    $('#sequenceText').val(text);
                                                });

//                                                $('#input-fill-submit').click(function() {
//                                                    console.log($('#sequenceText').val());
//                                                    $.ajax({
//                                                        url: "job/enter",
//                                                        type: "POST",
//                                                        data: {
//                                                            sequence: $('#sequenceText').val()
//                                                        },
//                                                        success: function(data) {
//                                                            alert(data);
//                                                            location.reload();
//                                                        },
//                                                        fail: function() {
//                                                            alert('fail!');
//                                                            location.reload();
//                                                        }
//                                                    });
//                                                });

                                                $.getJSON("job/list.json", function(jsonData) {
                                                    var result = '<thead>' + '<tr>' +
                                                            '<th>Job ID</th>' +
                                                            '<th>Submit Time</th>' +
                                                            '<th>Status</th>' +
                                                            '<th>Details</th>' +
                                                            '</tr></thead>' +
                                                            '<tbody>';
                                                    $.each(jsonData, function(k, v) {
                                                        var row = '<tr>' +
                                                                '<td class="center">' + v.jobId + '</td>' +
                                                                '<td class="center">' + v.time + '</td>' +
                                                                '<td class="center">' + v.status + '</td>' +
                                                                '<td class="center"><a id="' + v.jobId + '"  href="javascript:void(0)" onclick="getJobDetails(this)">Details</a></td>' +
                                                                '</tr>';
                                                        result += row;
                                                    });
                                                    result += '</tbody>';
                                                    $('#job-list-table').append(result); //填充数据表的内容

                                                    //创建数据表，带工具栏，全数字分页
                                                    $('#job-list-table').dataTable({
                                                        "sPaginationType": "full_numbers"
                                                    });
                                                });
                                            });

                                            function getJobDetails(obj) {

                                                var jobId = $(obj).attr("id");
                                                $.getJSON("job/get.json?jobId=" + jobId, function(v) {
                                                    $('#job-details-div').empty();
                                                    var tableText = '';
                                                    var i = 0;
                                                    $.each(v.proteinList, function(k2, v2) {
                                                        tableText +=
                                                                '<tr>' +
                                                                '<td>' + (i++) + '</td>' +
                                                                '<td>' + v2.id + '</td>' +
                                                                '<td>' + v2.pre + '</td>' +
                                                                '<td>' + v2.post + '</td>' +
                                                                '<td>' + v2.clazz + '</td>' +
                                                                '</tr>';
//                                                        console.log(v2.id);
//                                                        console.log(v2.pre);
//                                                        console.log(v2.post);
//                                                        console.log(v2.clazz);
                                                    });

                                                    var text =
                                                            '<hr />' +
                                                            '<h3>Job Details [<span class="text-primary">' + v.jobId + '</span>]</h3>' +
                                                            '<ul class="text-left">' +
                                                            '<li><i class="fa fa-li"></i> Job ID: ' + v.jobId + '</li>' +
                                                            '<li><i class="fa fa-li"></i> Submit Time: ' + v.time + '</li>' +
                                                            '<li><i class="fa fa-li"></i> Status: ' + v.status + '</li>' +
                                                            '</ul>' +
                                                            '<table id="job-details-table">' +
                                                            '<thead>' +
                                                            '<tr>' +
                                                            '<th> </th>' +
                                                            '<th>Protein ID</th>' +
                                                            '<th>Prob(Pre)</th>' +
                                                            '<th>Prob(Post)</th>' +
                                                            '<th>Predicted Class</th>' +
                                                            '</tr>' +
                                                            '</thead>' +
                                                            '<tbody>' +
                                                            tableText +
                                                            '</tbody>' +
                                                            '</table>' +
                                                            '<hr />';
                                                    $('#job-details-div').append(text);
                                                    $('#job-details-table').dataTable({
                                                        "sPaginationType": "full_numbers"
                                                    });

//                                                    console.log(v.jobId);
//                                                    console.log(v.time);
//                                                    console.log(v.status);
//                                                    console.log(v.proteinList);
//                                                    $.each(v.proteinList, function(k2, v2) {
//                                                        console.log(v2.id);
//                                                        console.log(v2.pre);
//                                                        console.log(v2.post);
//                                                        console.log(v2.clazz);
//                                                    });
                                                });
                                            }

        </script>
    </body>
</html>
